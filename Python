import pdfplumber
import re

pdf_path = r"C:\path\to\your\file.pdf"  # Update this

with pdfplumber.open(pdf_path) as pdf:
    page = pdf.pages[15]  # Page 16
    text = page.extract_text()

    if not text:
        print("No text found.")
    else:
        normalized_text = ' '.join(text.splitlines())
        print("=== Normalized Text ===")
        print(normalized_text)

        # Find all matches starting with a digit and ending with [ISA | xxx]
        matches = re.findall(r"\b\d+\s+.*?ISA\s*\|\s*\d+.*?", normalized_text)

        if matches:
            print("\n>>> Matched Section Titles:")
            for i, match in enumerate(matches, start=1):
                print(f"{i}. {match}")
        else:
            print("\n>>> No matches found.")
