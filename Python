import fitz  # PyMuPDF
import re

pdf_path = "pdfextract.pdf"
doc = fitz.open(pdf_path)

# Regex: match lines that start with 1, 1.1, 1.1.1, etc., followed by a space
section_pattern = re.compile(r'^\d+(\.\d+)*\s.+ISA\s\|\s\d+$')

section_headers = []

for page_number in range(min(30, len(doc))):
    page = doc[page_number]
    text = page.get_text()
    for line in text.split('\n'):
        line = line.strip()
        if section_pattern.match(line):
            section_headers.append(line)

doc.close()

# Print results
for header in section_headers:
    print(header)
