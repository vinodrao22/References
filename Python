import getpass
from pyad import aduser

# Get current logged-in user
username = getpass.getuser()

# Fetch AD user
user = aduser.ADUser.from_cn(username)

# Print groups
groups = [g.cn for g in user.get_attribute("memberOf")]
print(groups)

# Check if user is in a specific group
group_to_check = "YourADGroupName"
if group_to_check in groups:
    print(f"{username} is part of {group_to_check}")
else:
    print(f"{username} is NOT part of {group_to_check}")
